<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ç¬¬01ç« â€”å†™ç»™æƒ³è¦è¿›é˜¶çš„ä½ </title>
      <link href="/book/2023/chapter-01-for-you-who-want-to-advance/"/>
      <url>/book/2023/chapter-01-for-you-who-want-to-advance/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆå­¦ä¹ Reactï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆå­¦ä¹ Reactï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆå­¦ä¹ Reactï¼Ÿ"></a>ä¸ºä»€ä¹ˆå­¦ä¹ Reactï¼Ÿ</h2><p>React æ˜¯å½“å‰éå¸¸æµè¡Œçš„ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ï¼Œä¹Ÿæ˜¯ç›®å‰æœ€å—æ¬¢è¿çš„ Web ç•Œé¢å¼€å‘å·¥å…·ä¹‹ä¸€ã€‚</p><p>è¿™ä¸»è¦æ˜¯å¾—ç›Šäºå®ƒç²¾å¦™çš„è®¾è®¡æ€æƒ³ï¼Œä»¥åŠå¤šå¹´çš„æ›´æ–°è¿­ä»£æ²‰æ·€è€Œæ¥çš„ç»éªŒã€‚</p><p><strong>é¦–å…ˆï¼ŒReact çš„å‡ºç°è®©åˆ›å»ºäº¤äº’å¼ UI å˜å¾—è½»è€Œæ˜“ä¸¾ã€‚</strong> å®ƒä¸ä»…å¯ä»¥ä¸ºåº”ç”¨çš„æ¯ä¸€ä¸ªçŠ¶æ€è®¾è®¡å‡ºç®€æ´çš„è§†å›¾ã€‚è€Œä¸”ï¼Œå½“æ•°æ®å˜åŠ¨æ—¶ï¼ŒReact è¿˜èƒ½é«˜æ•ˆæ›´æ–°å¹¶æ¸²æŸ“åˆé€‚çš„ç»„ä»¶ã€‚</p><p>è¿™æ˜¯å› ä¸ºï¼Œåœ¨ React çš„ä¸–ç•Œä¸­ï¼Œå‡½æ•°å’Œç±»å°±æ˜¯ UI çš„è½½ä½“ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥ç†è§£ä¸ºï¼Œå°†æ•°æ®ä¼ å…¥ React çš„ç±»å’Œå‡½æ•°ä¸­ï¼Œè¿”å›çš„å°±æ˜¯ UI ç•Œé¢ã€‚</p><p>åŒæ—¶ï¼Œè¿™ç§çµæ´»æ€§ä½¿å¾—å¼€å‘è€…åœ¨å¼€å‘ React åº”ç”¨çš„æ—¶å€™ï¼Œæ›´æ³¨é‡é€»è¾‘çš„å¤„ç†ï¼Œæ‰€ä»¥åœ¨ React ä¸­ï¼Œå¯ä»¥è¿ç”¨å¤šç§è®¾è®¡æ¨¡å¼ï¼Œæ›´æœ‰æ•ˆåœ°åŸ¹å…»ç¼–ç¨‹èƒ½åŠ›ã€‚</p><p><img src="https://raw.githubusercontent.com/Flashcard8009/image/main/img/202309261527738.jpeg" alt="2.jpg"></p><p><strong>å…¶æ¬¡ï¼ŒReact æŠŠç»„ä»¶åŒ–çš„æ€æƒ³å‘æŒ¥å¾—æ·‹æ¼“å°½è‡´ã€‚</strong> åœ¨ React åº”ç”¨ä¸­ï¼Œä¸€åˆ‡çš†ç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶åƒæœºå™¨é›¶ä»¶ä¸€æ ·ï¼Œå¼€å‘è€…æŠŠæ¯ä¸€ä¸ªç»„ä»¶ç»„åˆåœ¨ä¸€èµ·ï¼Œå°† React åº”ç”¨è¿è½¬èµ·æ¥ã€‚</p><p><strong>æœ€åï¼ŒReact è¿˜å…·æœ‰è·¨å¹³å°èƒ½åŠ›ã€‚</strong> React æ”¯æŒ Node è¿›è¡ŒæœåŠ¡å™¨æ¸²æŸ“ï¼Œè¿˜å¯ä»¥ç”¨ React Native è¿›è¡ŒåŸç”Ÿç§»åŠ¨åº”ç”¨çš„å¼€å‘ï¼Œéšç€è·¨å¹³å°æ„å»ºå·¥å…·çš„å…´èµ·ï¼Œæ¯”å¦‚ Taroï¼Œå¼€å‘è€…å¯ä»¥å†™ä¸€å¥— React ä»£ç ï¼Œé€‚ç”¨äºå¤šä¸ªå¹³å°ã€‚</p><p>å› æ­¤ï¼Œå­¦å¥½ Reactï¼Œèƒ½å¢å¼ºæˆ‘ä»¬è‡ªèº«çš„èŒä¸šç«äº‰åŠ›ã€‚</p><h2 id="è·Ÿç€å°å†Œå­¦ä¹ React"><a href="#è·Ÿç€å°å†Œå­¦ä¹ React" class="headerlink" title="è·Ÿç€å°å†Œå­¦ä¹ React"></a>è·Ÿç€å°å†Œå­¦ä¹ React</h2><p>æƒ³è¦ç³»ç»Ÿå­¦ä¹  Reactï¼Œæˆ‘å»ºè®®ä½ è·Ÿç€å°å†Œå­¦ã€‚è¿™é‡Œï¼Œæˆ‘å‡†å¤‡äº†å‡ ä¸ªå­¦ä¹ ä¸­çš„å¸¸è§é—®é¢˜ï¼Œæˆ‘å°±ç»“åˆå®ƒä»¬æ¥è¯´è¯´å°å†Œä¼˜åŠ¿ã€‚</p><p><strong>â‘  â€œçœ‹ä¼šâ€ç­‰äºâ€œå­¦ä¼šâ€å—ï¼Ÿ</strong></p><p>æˆ‘è®¤ä¸º<strong>çœ‹ä¼šä¸ç­‰äºå­¦ä¼šçš„ã€‚ä¿—è¯è¯´â€œå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´â€ï¼Œå‰ç«¯å¼€å‘è€…å­¦ä¹ é‡å¿ƒè¿˜æ˜¯è¦æ”¾åˆ° coding ä¸Šæ¥ã€‚</strong></p><p>å› æ­¤ï¼Œã€ŠReactè¿›é˜¶å®è·µæŒ‡å—ã€‹è¿™æœ¬å°å†Œï¼Œåœ¨è®²è§£ React api é«˜é˜¶ç”¨æ³•ï¼Œå’Œä¸€äº›æ ¸å¿ƒæ¨¡å—åŸç†çš„åŒæ—¶ï¼Œä¹Ÿä¼šåˆ—ä¸¾å‡ºå¾ˆå¤šå®è·µ Demo å»å¼ºåŒ–çŸ¥è¯†ç‚¹ã€‚é‚£ä¹ˆï¼Œå°å†Œçš„æœ€ä½³å­¦ä¹ æ–¹å¼å°±æ˜¯ï¼šè¯»è€…å¯ä»¥ç»“åˆå°å†Œæ¯ä¸€ç« èŠ‚ä¸­çš„çŸ¥è¯†ç‚¹ï¼Œå»äº²è‡ªä½“éªŒæ¯ä¸€ä¸ªé«˜é˜¶ç©æ³•ï¼Œäº²è‡ªå°è¯•å®ç°æ¯ä¸€ä¸ª Demoã€‚</p><p><strong>â‘¡ æœ‰å¿…è¦æŒæ¡å°å†Œä¸­çš„æºç å—ï¼Ÿ</strong></p><p>è¿™æœ¬å°å†Œæœ‰å¾ˆå¤š<strong>åŸç†æºç </strong>ï¼Œæˆ‘ä»¬æ˜¯å¦æœ‰å¿…è¦èŠ±è´¹å¤§é‡æ—¶é—´å»ç ”ç©¶å®ƒä»¬å‘¢ï¼Ÿè¿™ä¹Ÿæ˜¯å¾ˆå¤šäººåœ¨å­¦ä¹  React çš„æ—¶å€™æ¯”è¾ƒå…³å¿ƒçš„é—®é¢˜ã€‚æˆ‘æƒ³ï¼Œè™½ç„¶æˆ‘ä»¬æ²¡å¿…è¦çº ç»“æºç ä¸­çš„ä¸€äº›ç»†ææœ«èŠ‚ï¼Œä½†è¿˜æ˜¯æœ‰å¿…è¦æŒæ¡ä¸€äº›æ ¸å¿ƒåŸç†çš„ï¼ˆ<strong>å¯ä»¥ä¸çœ‹æºç ï¼Œä½†éœ€è¦æŒæ¡åŸç†</strong>ï¼‰ã€‚åŸå› æœ‰ä¸¤ç‚¹ï¼š</p><p>ç¬¬ä¸€ï¼Œç°åœ¨å‰ç«¯åœˆå­å†…å·ä¸¥é‡ï¼Œé¢è¯•å®˜åœ¨é¢è¯•ä¸­ä¸ºäº†å¯¹æ¯”å€™é€‰äººï¼Œå°±ä¼šé—®ä¸€äº›åŸç†&#x2F;æºç å±‚é¢ä¸Šçš„é—®é¢˜ã€‚å› æ­¤ï¼Œå¦‚æœåº”è˜è€…ä¸æ‡‚åŸç†&#x2F;æºç ï¼Œå°±ä¼šå¾ˆåƒäºã€‚</p><p>æ¯”å¦‚åº”è˜è€…åœ¨ç®€å†ä¸Šå†™äº†ç”¨è¿‡ mobx å’Œ reduxï¼Œé‚£ä¹ˆé¢è¯•å®˜å°±å¾ˆå¯èƒ½ä¼šé—®ä¸¤è€…åŒºåˆ«ã€‚å¦‚æœè¿™ä¸ªæ—¶å€™åº”è˜è€…çš„ç­”æ¡ˆåªæ˜¯åœç•™åœ¨ä¸¤è€…ä½¿ç”¨å±‚é¢ä¸Šçš„åŒºåˆ«ï¼Œè‚¯å®šæ˜¯å¾ˆéš¾è®©äººæ»¡æ„ã€‚</p><p>ç¬¬äºŒï¼Œ<strong>æ›´æ·±çš„ç†è§£æ–¹å¯æ›´å¥½çš„ä½¿ç”¨</strong>ã€‚å¼€å‘è€…å¯¹æ¡†æ¶åŸç†çš„æ·±å…¥ç†è§£å¯ä»¥è®©å…¶åœ¨å·¥ä½œä¸­ï¼Œæ›´å®¹æ˜“å‘ç°é—®é¢˜ã€å®šä½é—®é¢˜ã€è§£å†³é—®é¢˜ã€‚å°±ç®—æ˜¯é¢å¯¹ä¸€äº›å¤æ‚å›°éš¾çš„æŠ€æœ¯åœºæ™¯ï¼Œä¹Ÿèƒ½æä¾›å‡ºåˆç†çš„è§£å†³æ–¹æ¡ˆã€‚</p><p><strong>â‘¢ ä¸€å®šè¦æŒ‰é¡ºåºå­¦ä¹ å—ï¼Ÿè·³ç€çœ‹å¯ä»¥å—ï¼Ÿ</strong></p><p>æœ¬å°å†Œçš„éš¾åº¦æ˜¯ç”±æµ…å…¥æ·±çš„ï¼Œå†…å®¹æ˜¯æ‰¿ä¸Šå¯ä¸‹çš„ã€‚æ‰€ä»¥æˆ‘å¸Œæœ›æ¯ä¸€ä¸ªè¯»è€…èƒ½å¤ŸæŒ‰ç…§ç« èŠ‚é¡ºåºé˜…è¯»ï¼Œä¸è¦è·³è·ƒå¼é˜…è¯»ã€‚</p><h2 id="Reacté‡Œç¨‹ç¢‘"><a href="#Reacté‡Œç¨‹ç¢‘" class="headerlink" title="Reacté‡Œç¨‹ç¢‘"></a>Reacté‡Œç¨‹ç¢‘</h2><p>åœ¨æ­£å¼å­¦ä¹  React ä¹‹å‰ï¼Œé¦–å…ˆçœ‹ä¸€ä¸‹ React å‘å±•å²ä¸­ä¸€äº›é‡è¦çš„é‡Œç¨‹ç¢‘ï¼ˆä» <code>React16</code> å¼€å§‹ï¼‰ï¼Œã€ŠReactè¿›é˜¶å®è·µæŒ‡å—ã€‹è¿™æœ¬å°å†Œä¸­ï¼Œä¼šå›´ç»•è¿™äº›é‡Œç¨‹ç¢‘ä¸­çš„å†…å®¹å±•å¼€è®¨è®ºã€‚</p><ul><li>**<code>v16.0</code>**ï¼š ä¸ºäº†è§£å†³ä¹‹å‰å¤§å‹ React åº”ç”¨ä¸€æ¬¡æ›´æ–°éå†å¤§é‡è™šæ‹Ÿ DOM å¸¦æ¥ä¸ªå¡é¡¿é—®é¢˜ï¼ŒReact é‡å†™äº†æ ¸å¿ƒæ¨¡å— Reconciler ï¼Œå¯ç”¨äº† Fiber æ¶æ„ï¼›ä¸ºäº†åœ¨è®©èŠ‚ç‚¹æ¸²æŸ“åˆ°æŒ‡å®šå®¹å™¨å†…ï¼Œæ›´å¥½çš„å®ç°å¼¹çª—åŠŸèƒ½ï¼Œæ¨å‡º createPortal APIï¼›ä¸ºäº†æ•è·æ¸²æŸ“ä¸­çš„å¼‚å¸¸ï¼Œå¼•å…¥ componentDidCatch é’©å­ï¼Œåˆ’åˆ†äº†é”™è¯¯è¾¹ç•Œã€‚</li><li>**<code>v16.2</code>**ï¼šæ¨å‡º Fragment ï¼Œè§£å†³æ•°ç»„å…ƒç´ é—®é¢˜ã€‚</li><li>**<code>v16.3</code>**ï¼šå¢åŠ  React.createRef() APIï¼Œå¯ä»¥é€šè¿‡ React.createRef å–å¾— Ref å¯¹è±¡ã€‚å¢åŠ  React.forwardRef() APIï¼Œè§£å†³é«˜é˜¶ç»„ä»¶ ref ä¼ é€’é—®é¢˜ï¼›æ¨å‡ºæ–°ç‰ˆæœ¬ context apiï¼Œè¿æ¥Provider &#x2F; Consumer æ—¶ä»£ï¼›å¢åŠ  getDerivedStateFromProps å’Œ getSnapshotBeforeUpdate ç”Ÿå‘½å‘¨æœŸ ã€‚</li><li>**<code>v16.6</code>**ï¼šå¢åŠ  React.memo() APIï¼Œç”¨äºæ§åˆ¶å­ç»„ä»¶æ¸²æŸ“ï¼›å¢åŠ  React.lazy() API å®ç°ä»£ç åˆ†å‰²ï¼›å¢åŠ  contextType è®©ç±»ç»„ä»¶æ›´ä¾¿æ·çš„ä½¿ç”¨contextï¼›å¢åŠ ç”Ÿå‘½å‘¨æœŸ getDerivedStateFromError ä»£æ›¿ componentDidCatch ã€‚</li><li>**<code>v16.8</code>**ï¼šå…¨æ–° React-Hooks æ”¯æŒï¼Œä½¿å‡½æ•°ç»„ä»¶ä¹Ÿèƒ½åšç±»ç»„ä»¶çš„ä¸€åˆ‡äº‹æƒ…ã€‚</li><li>**<code>v17</code>**ï¼š äº‹ä»¶ç»‘å®šç”± document å˜æˆ container ï¼Œç§»é™¤äº‹ä»¶æ± ç­‰ã€‚</li></ul><h2 id="é˜…è¯»å‰çš„å£°æ˜"><a href="#é˜…è¯»å‰çš„å£°æ˜" class="headerlink" title="é˜…è¯»å‰çš„å£°æ˜"></a>é˜…è¯»å‰çš„å£°æ˜</h2><ul><li>æœ¬å°å†Œæ¶‰åŠçš„æ‰€æœ‰ React æºç ç‰ˆæœ¬å‰æœŸä¸º <code>v16.13.1</code> - <code>v17</code> ï¼ŒåæœŸæ”¹ä¸ºæœ€æ–°çš„ <code>v18.0.2</code>ï¼Œä¸ºäº†ç”¨æœ€ç²¾ç‚¼çš„å†…å®¹æŠŠäº‹æƒ…è®²æ˜ç™½ï¼Œæœ¬å°å†Œæ¶‰åŠçš„æºç å‡ä¸ºç²¾ç®€åçš„ï¼Œä¼šå’ŒçœŸæ­£çš„æºç æœ‰å‡ºå…¥ï¼Œæ•¬è¯·è°…è§£ã€‚</li><li>æœ¬å°å†Œå„ä¸ªç« èŠ‚æ˜¯æ‰¿ä¸Šå¯ä¸‹çš„ï¼Œæ‰€ä»¥è¯·æŒ‰ç…§ç›®å½•ï¼Œæ¸è¿›å¼é˜…è¯»ã€‚</li><li>æ‰€æœ‰çš„å®è·µ Demo é¡¹ç›®ï¼Œç¬”è€…å·²ç»æ•´ç†åˆ° GitHubä¸Šï¼Œåœ°å€ä¸º <a href="https://github.com/GoodLuckAlien/React-Advanced-Guide-Pro">ã€ŠReactè¿›é˜¶å®è·µæŒ‡å—ã€‹â€”â€”Demo é¡¹ç›®å’Œä»£ç ç‰‡æ®µ</a>ï¼ŒæŒç»­æ›´æ–°ä¸­ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬02ç« â€”åŸºç¡€ç¯‡-è®¤è¯†jsx</title>
      <link href="/book/2023/chapter-02-fundamentals-understanding-jsx/"/>
      <url>/book/2023/chapter-02-fundamentals-understanding-jsx/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€-æˆ‘ä»¬å†™çš„-JSX-ç»ˆå°†å˜æˆä»€ä¹ˆ"><a href="#ä¸€-æˆ‘ä»¬å†™çš„-JSX-ç»ˆå°†å˜æˆä»€ä¹ˆ" class="headerlink" title="ä¸€ æˆ‘ä»¬å†™çš„ JSX ç»ˆå°†å˜æˆä»€ä¹ˆ"></a>ä¸€ æˆ‘ä»¬å†™çš„ JSX ç»ˆå°†å˜æˆä»€ä¹ˆ</h1><p>ä¸‡ç‰©å§‹äº <code>jsx</code>ï¼Œæƒ³è¦æ·±å…¥å­¦ä¹  react ï¼Œå°±åº”è¯¥ä» jsx å…¥æ‰‹ã€‚å¼„æ¸…æ¥š jsx ï¼Œæ–¹ä¾¿å­¦ä¹ æŒæ¡ä»¥ä¸‹å†…å®¹ï¼š</p><ul><li>äº†è§£å¸¸ç”¨çš„å…ƒç´ ä¼šè¢« React å¤„ç†æˆä»€ä¹ˆï¼Œæœ‰åˆ©äºåç»­ç†è§£ react fiber ç±»å‹ï¼›</li><li>ç†è§£ jsx çš„ç¼–è¯‘è¿‡ç¨‹ï¼Œæ–¹ä¾¿æ“çºµ childrenã€æ§åˆ¶ React æ¸²æŸ“ï¼Œæœ‰åˆ©äºä¾¿æ·ä½¿ç”¨ React æ’æ§½ç»„ä»¶ã€‚</li></ul><p>æˆ‘å†™äº†ä¸€æ®µ react JSX ä»£ç ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€æ­¥æ­¥çœ‹çœ‹å®ƒæœ€åä¼šå˜æˆä»€ä¹ˆæ ·å­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toLearn = [ <span class="string">&#x27;react&#x27;</span> , <span class="string">&#x27;vue&#x27;</span> , <span class="string">&#x27;webpack&#x27;</span> , <span class="string">&#x27;nodejs&#x27;</span>  ]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="title function_">TextComponent</span> = (<span class="params"></span>)=&gt; <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span> hello , i am function component <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Index</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span><br><span class="line">    status = <span class="literal">false</span> <span class="comment">/* çŠ¶æ€ */</span></span><br><span class="line">    renderFoot=<span class="function">()=&gt;</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span> i am foot<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">/* ä»¥ä¸‹éƒ½æ˜¯å¸¸ç”¨çš„jsxå…ƒç´ èŠ‚ */</span></span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">marginTop:</span>&#x27;<span class="attr">100px</span>&#x27; &#125;&#125;   &gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123; /* element å…ƒç´ ç±»å‹ */ &#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span>&gt;</span>hello,world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123; /* fragment ç±»å‹ */ &#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">React.Fragment</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span>&gt;</span> ğŸ‘½ğŸ‘½ <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">React.Fragment</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123; /* text æ–‡æœ¬ç±»å‹ */ &#125;</span></span><br><span class="line"><span class="language-xml">            my name is alien </span></span><br><span class="line"><span class="language-xml">            &#123; /* æ•°ç»„èŠ‚ç‚¹ç±»å‹ */ &#125;</span></span><br><span class="line"><span class="language-xml">            &#123; toLearn.map(item=&gt; <span class="tag">&lt;<span class="name">div</span> <span class="attr">key</span>=<span class="string">&#123;item&#125;</span> &gt;</span>let us learn &#123; item &#125; <span class="tag">&lt;/<span class="name">div</span>&gt;</span> ) &#125;</span></span><br><span class="line"><span class="language-xml">            &#123; /* ç»„ä»¶ç±»å‹ */ &#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">TextComponent</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123; /* ä¸‰å…ƒè¿ç®— */  &#125;</span></span><br><span class="line"><span class="language-xml">            &#123; this.status ? <span class="tag">&lt;<span class="name">TextComponent</span> /&gt;</span> : <span class="tag">&lt;<span class="name">div</span>&gt;</span>ä¸‰å…ƒè¿ç®—<span class="tag">&lt;/<span class="name">div</span>&gt;</span> &#125;</span></span><br><span class="line"><span class="language-xml">            &#123; /* å‡½æ•°æ‰§è¡Œ */ &#125; </span></span><br><span class="line"><span class="language-xml">            &#123; this.renderFoot() &#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;</span> ()=&gt;</span> console.log( this.render() ) &#125; &gt;æ‰“å°renderåçš„å†…å®¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/Flashcard8009/image/main/img/202309261541455.jpeg" alt="jsx_02.jpg"></p><h3 id="1-babel-å¤„ç†åçš„æ ·å­"><a href="#1-babel-å¤„ç†åçš„æ ·å­" class="headerlink" title="1 babel å¤„ç†åçš„æ ·å­"></a>1 babel å¤„ç†åçš„æ ·å­</h3><p><strong>é¦–å…ˆï¼Œçœ‹ä¸€ä¸‹ä¸Šè¿°ä¾‹å­ä¸­çš„ jsx æ¨¡ç‰ˆä¼šè¢«babelç¼–è¯‘æˆä»€ä¹ˆï¼Ÿ</strong></p><p><img src="https://raw.githubusercontent.com/Flashcard8009/image/main/img/202309261541532.jpeg" alt="jsx_03.jpg"></p><p>å’Œå¦‚ä¸Šçœ‹åˆ°çš„ä¸€æ ·ï¼Œæˆ‘å†™çš„ JSX å…ƒç´ èŠ‚ç‚¹ä¼šè¢«ç¼–è¯‘æˆ React Element å½¢å¼ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬é¦–å…ˆæ¥çœ‹ä¸€ä¸‹ React.createElement çš„ç”¨æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">React</span>.<span class="title function_">createElement</span>(</span><br><span class="line">  type,</span><br><span class="line">  [props],</span><br><span class="line">  [...children]</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><code>createElement</code> å‚æ•°ï¼š<br/></p><ul><li><p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šå¦‚æœæ˜¯ç»„ä»¶ç±»å‹ï¼Œä¼šä¼ å…¥ç»„ä»¶å¯¹åº”çš„ç±»æˆ–å‡½æ•°ï¼›å¦‚æœæ˜¯ dom å…ƒç´ ç±»å‹ï¼Œä¼ å…¥ div æˆ–è€… span ä¹‹ç±»çš„å­—ç¬¦ä¸²ã€‚</p></li><li><p>ç¬¬äºŒä¸ªå‚æ•°ï¼šä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨ dom ç±»å‹ä¸­ä¸ºæ ‡ç­¾å±æ€§ï¼Œåœ¨ç»„ä»¶ç±»å‹ä¸­ä¸º props ã€‚</p></li><li><p>å…¶ä»–å‚æ•°ï¼šä¾æ¬¡ä¸º childrenï¼Œæ ¹æ®é¡ºåºæ’åˆ—ã€‚</p></li></ul><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">TextComponent</span> /&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>hello,world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">   <span class="keyword">let</span> us learn <span class="title class_">React</span>!</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç ä¼šè¢« babel å…ˆç¼–è¯‘æˆï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>, <span class="literal">null</span>,</span><br><span class="line">       <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="title class_">TextComponent</span>, <span class="literal">null</span>),</span><br><span class="line">       <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;hello,world&quot;</span>),</span><br><span class="line">       <span class="string">&quot;let us learn React!&quot;</span></span><br><span class="line">   )</span><br></pre></td></tr></table></figure><p><strong>ï½œâ€”â€”â€“é—®ä¸ç­”â€”â€”â€“ï½œ</strong><br/></p><p>é—®ï¼šè€ç‰ˆæœ¬çš„ React ä¸­ï¼Œä¸ºä»€ä¹ˆå†™ jsx çš„æ–‡ä»¶è¦é»˜è®¤å¼•å…¥ React?</br><br>å¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Index</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>hello,world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç­”ï¼šå› ä¸º jsx åœ¨è¢« babel ç¼–è¯‘åï¼Œå†™çš„ jsx ä¼šå˜æˆä¸Šè¿° React.createElement å½¢å¼ï¼Œæ‰€ä»¥éœ€è¦å¼•å…¥ Reactï¼Œé˜²æ­¢æ‰¾ä¸åˆ° React å¼•èµ·æŠ¥é”™ã€‚<br/></p><p><strong>ï½œâ€”â€”â€”endâ€”â€”â€”ï½œ</strong></p><h3 id="2-createElement-å¤„ç†åçš„æ ·å­"><a href="#2-createElement-å¤„ç†åçš„æ ·å­" class="headerlink" title="2 createElement å¤„ç†åçš„æ ·å­"></a>2 createElement å¤„ç†åçš„æ ·å­</h3><p>ç„¶åç‚¹å‡»æŒ‰é’®ï¼Œçœ‹ä¸€ä¸‹å†™çš„ demo ä¼šè¢« React.createElement å˜æˆä»€ä¹ˆ:</p><p><img src="https://raw.githubusercontent.com/Flashcard8009/image/main/img/202309261542046.jpeg" alt="jsx_01.jpg"></p><p>ä»ä¸Šé¢å†™çš„ jsx ç»“æ„æ¥çœ‹ï¼Œå¤–å±‚çš„ div è¢« react.createElement è½¬æ¢æˆ react element å¯¹è±¡ï¼Œdiv é‡Œé¢çš„ 8 ä¸ªå…ƒç´ åˆ†åˆ«è½¬æ¢æˆ children å­å…ƒç´ åˆ—è¡¨ã€‚ä¸‹é¢å°±æ˜¯ jsx çš„è½¬æ¢è§„åˆ™ï¼Œè¯·ä¸€å®šè¦è®°ä½ï¼Œä»¥ä¾¿åç»­èƒ½æ›´æµç•…åœ°ä½¿ç”¨ jsx è¯­æ³•ã€‚</p><table><thead><tr><th><code>jsx</code>å…ƒç´ ç±»å‹</th><th><code>react.createElement</code> è½¬æ¢å</th><th><code>type</code> å±æ€§</th></tr></thead><tbody><tr><td><code>element</code>å…ƒç´ ç±»å‹</td><td><code>react element</code>ç±»å‹</td><td>æ ‡ç­¾å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ <code>div</code></td></tr><tr><td><code>fragment</code>ç±»å‹</td><td><code>react element</code>ç±»å‹</td><td><code>symbol</code>  <code>react.fragment</code>ç±»å‹</td></tr><tr><td>æ–‡æœ¬ç±»å‹</td><td>ç›´æ¥å­—ç¬¦ä¸²</td><td>æ— </td></tr><tr><td>æ•°ç»„ç±»å‹</td><td>è¿”å›æ•°ç»„ç»“æ„ï¼Œé‡Œé¢å…ƒç´ è¢«<code>react.createElement</code>è½¬æ¢</td><td>æ— </td></tr><tr><td>ç»„ä»¶ç±»å‹</td><td><code>react element</code>ç±»å‹</td><td>ç»„ä»¶ç±»æˆ–è€…ç»„ä»¶å‡½æ•°æœ¬èº«</td></tr><tr><td>ä¸‰å…ƒè¿ç®— &#x2F; è¡¨è¾¾å¼</td><td>å…ˆæ‰§è¡Œä¸‰å…ƒè¿ç®—ï¼Œç„¶åæŒ‰ç…§ä¸Šè¿°è§„åˆ™å¤„ç†</td><td>çœ‹ä¸‰å…ƒè¿ç®—è¿”å›ç»“æœ</td></tr><tr><td>å‡½æ•°æ‰§è¡Œ</td><td>å…ˆæ‰§è¡Œå‡½æ•°ï¼Œç„¶åæŒ‰ç…§ä¸Šè¿°è§„åˆ™å¤„ç†</td><td>çœ‹å‡½æ•°æ‰§è¡Œè¿”å›ç»“æœ</td></tr></tbody></table><h3 id="3-React-åº•å±‚è°ƒå’Œå¤„ç†åï¼Œç»ˆå°†å˜æˆä»€ä¹ˆï¼Ÿ"><a href="#3-React-åº•å±‚è°ƒå’Œå¤„ç†åï¼Œç»ˆå°†å˜æˆä»€ä¹ˆï¼Ÿ" class="headerlink" title="3 React åº•å±‚è°ƒå’Œå¤„ç†åï¼Œç»ˆå°†å˜æˆä»€ä¹ˆï¼Ÿ"></a>3 React åº•å±‚è°ƒå’Œå¤„ç†åï¼Œç»ˆå°†å˜æˆä»€ä¹ˆï¼Ÿ</h3><p>æœ€ç»ˆï¼Œåœ¨è°ƒå’Œé˜¶æ®µï¼Œä¸Šè¿° React element å¯¹è±¡çš„æ¯ä¸€ä¸ªå­èŠ‚ç‚¹éƒ½ä¼šå½¢æˆä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„ fiber å¯¹è±¡ï¼Œç„¶åé€šè¿‡ siblingã€returnã€child å°†æ¯ä¸€ä¸ª fiber å¯¹è±¡è”ç³»èµ·æ¥ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬æœ‰å¿…è¦å…ˆæ¥çœ‹ä¸€ä¸‹ React å¸¸ç”¨çš„ fiber ç±»å‹ï¼Œä»¥åŠ element å¯¹è±¡å’Œ fiber ç±»å‹çš„å¯¹åº”å…³ç³»ã€‚</p><h4 id="ä¸åŒç§ç±»çš„-fiber-Tag"><a href="#ä¸åŒç§ç±»çš„-fiber-Tag" class="headerlink" title="ä¸åŒç§ç±»çš„ fiber Tag"></a>ä¸åŒç§ç±»çš„ fiber Tag</h4><p>React é’ˆå¯¹ä¸åŒ React element å¯¹è±¡ä¼šäº§ç”Ÿä¸åŒ tag (ç§ç±») çš„fiber å¯¹è±¡ã€‚é¦–å…ˆï¼Œæ¥çœ‹ä¸€ä¸‹ tag ä¸ element çš„å¯¹åº”å…³ç³»ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">FunctionComponent</span> = <span class="number">0</span>;       <span class="comment">// å‡½æ•°ç»„ä»¶</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">ClassComponent</span> = <span class="number">1</span>;          <span class="comment">// ç±»ç»„ä»¶</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">IndeterminateComponent</span> = <span class="number">2</span>;  <span class="comment">// åˆå§‹åŒ–çš„æ—¶å€™ä¸çŸ¥é“æ˜¯å‡½æ•°ç»„ä»¶è¿˜æ˜¯ç±»ç»„ä»¶ </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">HostRoot</span> = <span class="number">3</span>;                <span class="comment">// Root Fiber å¯ä»¥ç†è§£ä¸ºæ ¹å…ƒç´  ï¼Œ é€šè¿‡reactDom.render()äº§ç”Ÿçš„æ ¹å…ƒç´ </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">HostPortal</span> = <span class="number">4</span>;              <span class="comment">// å¯¹åº”  ReactDOM.createPortal äº§ç”Ÿçš„ Portal </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">HostComponent</span> = <span class="number">5</span>;           <span class="comment">// dom å…ƒç´  æ¯”å¦‚ &lt;div&gt;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">HostText</span> = <span class="number">6</span>;                <span class="comment">// æ–‡æœ¬èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Fragment</span> = <span class="number">7</span>;                <span class="comment">// å¯¹åº” &lt;React.Fragment&gt; </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Mode</span> = <span class="number">8</span>;                    <span class="comment">// å¯¹åº” &lt;React.StrictMode&gt;   </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">ContextConsumer</span> = <span class="number">9</span>;         <span class="comment">// å¯¹åº” &lt;Context.Consumer&gt;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">ContextProvider</span> = <span class="number">10</span>;        <span class="comment">// å¯¹åº” &lt;Context.Provider&gt;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">ForwardRef</span> = <span class="number">11</span>;             <span class="comment">// å¯¹åº” React.ForwardRef</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Profiler</span> = <span class="number">12</span>;               <span class="comment">// å¯¹åº” &lt;Profiler/ &gt;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">SuspenseComponent</span> = <span class="number">13</span>;      <span class="comment">// å¯¹åº” &lt;Suspense&gt;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">MemoComponent</span> = <span class="number">14</span>;          <span class="comment">// å¯¹åº” React.memo è¿”å›çš„ç»„ä»¶</span></span><br></pre></td></tr></table></figure><h4 id="jsx-æœ€ç»ˆå½¢æˆçš„-fiber-ç»“æ„å›¾"><a href="#jsx-æœ€ç»ˆå½¢æˆçš„-fiber-ç»“æ„å›¾" class="headerlink" title="jsx æœ€ç»ˆå½¢æˆçš„ fiber ç»“æ„å›¾"></a>jsx æœ€ç»ˆå½¢æˆçš„ fiber ç»“æ„å›¾</h4><p>æœ€ç»ˆå†™çš„ jsx ä¼šå˜æˆå¦‚ä¸‹æ ¼å¼ï¼š</p><p><img src="https://raw.githubusercontent.com/Flashcard8009/image/main/img/202309261541707.jpeg" alt="jsx7.jpg"></p><p>fiber å¯¹åº”å…³ç³»</p><ul><li>childï¼š ä¸€ä¸ªç”±çˆ¶çº§ fiber æŒ‡å‘å­çº§ fiber çš„æŒ‡é’ˆã€‚</li><li>returnï¼šä¸€ä¸ªå­çº§ fiber æŒ‡å‘çˆ¶çº§ fiber çš„æŒ‡é’ˆã€‚</li><li>sibling: ä¸€ä¸ª fiber æŒ‡å‘ä¸‹ä¸€ä¸ªå…„å¼Ÿ fiber çš„æŒ‡é’ˆã€‚</li></ul><p>æ¸©é¦¨æç¤ºï¼š</p><ul><li>å¯¹äºä¸Šè¿°åœ¨ jsx ä¸­å†™çš„ map æ•°ç»„ç»“æ„çš„å­èŠ‚ç‚¹ï¼Œå¤–å±‚ä¼šè¢«åŠ ä¸Š fragment ï¼›</li><li>map è¿”å›æ•°ç»„ç»“æ„ï¼Œä½œä¸º fragment çš„å­èŠ‚ç‚¹ã€‚</li></ul><h2 id="äºŒ-è¿›é˜¶å®è·µ-å¯æ§æ€§-render"><a href="#äºŒ-è¿›é˜¶å®è·µ-å¯æ§æ€§-render" class="headerlink" title="äºŒ è¿›é˜¶å®è·µ-å¯æ§æ€§ render"></a>äºŒ è¿›é˜¶å®è·µ-å¯æ§æ€§ render</h2><p>ä¸Šé¢çš„ demo æš´éœ²å‡ºäº†å¦‚ä¸‹é—®é¢˜ï¼š</p><ol><li>è¿”å›çš„ <code>children</code> è™½ç„¶æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä½†æ˜¯æ•°ç»„é‡Œé¢çš„æ•°æ®ç±»å‹å´æ˜¯ä¸ç¡®å®šçš„ï¼Œæœ‰å¯¹è±¡ç±»å‹( å¦‚<code>ReactElement</code> ) ï¼Œæœ‰æ•°ç»„ç±»å‹(å¦‚ <code>map</code> éå†è¿”å›çš„å­èŠ‚ç‚¹)ï¼Œè¿˜æœ‰å­—ç¬¦ä¸²ç±»å‹(å¦‚æ–‡æœ¬)ï¼›</li><li>æ— æ³•å¯¹ render åçš„ React element å…ƒç´ è¿›è¡Œå¯æ§æ€§æ“ä½œã€‚</li></ol><p>é’ˆå¯¹ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å¯¹demoé¡¹ç›®è¿›è¡Œæ”¹é€ å¤„ç†ï¼Œå…·ä½“è¿‡ç¨‹å¯ä»¥åˆ†ä¸º4æ­¥ï¼š</p><ol><li>å°†ä¸Šè¿°childrenæ‰å¹³åŒ–å¤„ç†ï¼Œå°†æ•°ç»„ç±»å‹çš„å­èŠ‚ç‚¹æ‰“å¼€ ï¼› </li><li>å¹²æ‰childrenä¸­æ–‡æœ¬ç±»å‹èŠ‚ç‚¹ï¼›</li><li>å‘childrenæœ€åæ’å…¥<div className="last" > say goodbye</div>å…ƒç´ ï¼›</li><li>å…‹éš†æ–°çš„å…ƒç´ èŠ‚ç‚¹å¹¶æ¸²æŸ“ã€‚</li></ol><p>å¸Œæœ›é€šè¿‡è¿™ä¸ªå®è·µ demo ï¼Œå¤§å®¶å¯ä»¥<strong>åŠ æ·±å¯¹ jsx ç¼–è¯‘åç»“æ„çš„è®¤è¯†ï¼Œå­¦ä¼šå¯¹ jsx ç¼–è¯‘åçš„ React.element è¿›è¡Œä¸€ç³»åˆ—æ“ä½œï¼Œè¾¾åˆ°ç†æƒ³åŒ–çš„ç›®çš„ï¼Œä»¥åŠç†Ÿæ‚‰ React API çš„ä½¿ç”¨ã€‚</strong></p><p>ç”±äºï¼Œæˆ‘ä»¬æƒ³è¦æŠŠ render è¿‡ç¨‹å˜æˆå¯æ§çš„ï¼Œå› æ­¤éœ€è¦æŠŠä¸Šè¿°ä»£ç è¿›è¡Œæ”¹é€ ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Index</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span><br><span class="line">    status = <span class="literal">false</span> <span class="comment">/* çŠ¶æ€ */</span></span><br><span class="line">    renderFoot=<span class="function">()=&gt;</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span> i am foot<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="comment">/* æ§åˆ¶æ¸²æŸ“ */</span></span><br><span class="line">    controlRender=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> reactElement = (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">marginTop:</span>&#x27;<span class="attr">100px</span>&#x27; &#125;&#125; <span class="attr">className</span>=<span class="string">&quot;container&quot;</span>  &gt;</span>   </span></span><br><span class="line"><span class="language-xml">                 &#123; /* element å…ƒç´ ç±»å‹ */ &#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span>&gt;</span>hello,world<span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">                &#123; /* fragment ç±»å‹ */ &#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">React.Fragment</span>&gt;</span>      </span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">div</span>&gt;</span> ğŸ‘½ğŸ‘½ <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">React.Fragment</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                &#123; /* text æ–‡æœ¬ç±»å‹ */ &#125;</span></span><br><span class="line"><span class="language-xml">                my name is alien       </span></span><br><span class="line"><span class="language-xml">                &#123; /* æ•°ç»„èŠ‚ç‚¹ç±»å‹ */ &#125;</span></span><br><span class="line"><span class="language-xml">                &#123; toLearn.map(item=&gt; <span class="tag">&lt;<span class="name">div</span> <span class="attr">key</span>=<span class="string">&#123;item&#125;</span> &gt;</span>let us learn &#123; item &#125; <span class="tag">&lt;/<span class="name">div</span>&gt;</span> ) &#125; </span></span><br><span class="line"><span class="language-xml">                &#123; /* ç»„ä»¶ç±»å‹ */ &#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">TextComponent</span>/&gt;</span>  </span></span><br><span class="line"><span class="language-xml">                &#123; /* ä¸‰å…ƒè¿ç®— */  &#125;</span></span><br><span class="line"><span class="language-xml">                &#123; this.status ? <span class="tag">&lt;<span class="name">TextComponent</span> /&gt;</span> :  <span class="tag">&lt;<span class="name">div</span>&gt;</span>ä¸‰å…ƒè¿ç®—<span class="tag">&lt;/<span class="name">div</span>&gt;</span> &#125;  </span></span><br><span class="line"><span class="language-xml">                &#123; /* å‡½æ•°æ‰§è¡Œ */ &#125; </span></span><br><span class="line"><span class="language-xml">                &#123; this.renderFoot() &#125;  </span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;</span> ()=&gt;</span> console.log( this.render() ) &#125; &gt;æ‰“å°renderåçš„å†…å®¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(reactElement)</span><br><span class="line">        <span class="keyword">const</span> &#123; children &#125; = reactElement.<span class="property">props</span></span><br><span class="line">        <span class="comment">/* ç¬¬1æ­¥ ï¼š æ‰å¹³åŒ– children  */</span></span><br><span class="line">        <span class="keyword">const</span> flatChildren = <span class="title class_">React</span>.<span class="property">Children</span>.<span class="title function_">toArray</span>(children)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(flatChildren)</span><br><span class="line">        <span class="comment">/* ç¬¬2æ­¥ ï¼š é™¤å»æ–‡æœ¬èŠ‚ç‚¹ */</span></span><br><span class="line">        <span class="keyword">const</span> newChildren :any= []</span><br><span class="line">        <span class="title class_">React</span>.<span class="property">Children</span>.<span class="title function_">forEach</span>(flatChildren,<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="title class_">React</span>.<span class="title function_">isValidElement</span>(item)) newChildren.<span class="title function_">push</span>(item)</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">/* ç¬¬3æ­¥ï¼Œæ’å…¥æ–°çš„èŠ‚ç‚¹ */</span></span><br><span class="line">        <span class="keyword">const</span> lastChildren = <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">`div`</span>,&#123; className :<span class="string">&#x27;last&#x27;</span> &#125; ,<span class="string">`say goodbye`</span>)</span><br><span class="line">        newChildren.<span class="title function_">push</span>(lastChildren)</span><br><span class="line">         </span><br><span class="line">        <span class="comment">/* ç¬¬4æ­¥ï¼šä¿®æ”¹å®¹å™¨èŠ‚ç‚¹ */</span></span><br><span class="line">        <span class="keyword">const</span> newReactElement =  <span class="title class_">React</span>.<span class="title function_">cloneElement</span>(reactElement,&#123;&#125; ,...newChildren )</span><br><span class="line">        <span class="keyword">return</span> newReactElement</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">controlRender</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¬¬ 1 æ­¥ï¼š<code>React.Children.toArray</code> æ‰å¹³åŒ–ï¼Œè§„èŒƒåŒ– children æ•°ç»„ã€‚</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flatChildren = <span class="title class_">React</span>.<span class="property">Children</span>.<span class="title function_">toArray</span>(children)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(flatChildren)</span><br></pre></td></tr></table></figure><p>React.Children.toArray å¯ä»¥æ‰å¹³åŒ–ã€è§„èŒƒåŒ– React.element çš„ children ç»„æˆçš„æ•°ç»„ï¼Œåªè¦ children ä¸­çš„æ•°ç»„å…ƒç´ è¢«æ‰“å¼€ï¼Œå¯¹éå† children å¾ˆæœ‰å¸®åŠ©ï¼Œè€Œä¸” React.Children.toArray è¿˜å¯ä»¥æ·±å±‚æ¬¡ flat ã€‚</p><p>æ‰“å°ç»“æœï¼š</p><p><img src="https://raw.githubusercontent.com/Flashcard8009/image/main/img/202309261542797.jpeg" alt="jsx5.jpg"></p><p><strong>ç¬¬ 2 æ­¥ï¼šéå† children ï¼ŒéªŒè¯ React.element å…ƒç´ èŠ‚ç‚¹ï¼Œé™¤å»æ–‡æœ¬èŠ‚ç‚¹ã€‚</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> newChildren :any= []</span><br><span class="line"><span class="title class_">React</span>.<span class="property">Children</span>.<span class="title function_">forEach</span>(flatChildren,<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="title class_">React</span>.<span class="title function_">isValidElement</span>(item)) newChildren.<span class="title function_">push</span>(item)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç”¨ React.Children.forEach å»éå†å­èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯ react Element å…ƒç´ ï¼Œå°±æ·»åŠ åˆ°æ–°çš„ children æ•°ç»„ä¸­ï¼Œé€šè¿‡è¿™ç§æ–¹å¼è¿‡æ»¤æ‰é React element èŠ‚ç‚¹ã€‚React.isValidElement è¿™ä¸ªæ–¹æ³•å¯ä»¥ç”¨æ¥æ£€æµ‹æ˜¯å¦ä¸º React element å…ƒç´ ï¼Œæ¥æ”¶ä¸€ä¸ªå‚æ•°â€”â€”å¾…éªŒè¯å¯¹è±¡ï¼Œå¦‚æœæ˜¯è¿”å› true ï¼Œ å¦åˆ™è¿”å› false ã€‚</p><p>è¿™é‡Œå¯èƒ½ä¼šæœ‰ä¸€ä¸ªç–‘é—®å°±æ˜¯å¦‚ä¸‹ï¼š<br/></p><p> éš¾é“ç”¨æ•°ç»„æœ¬èº«æ–¹æ³• filter è¿‡æ»¤ä¸è¡Œä¹ˆ ï¼Ÿ ä¸ºä»€ä¹ˆè¦ç”¨ React.Children.forEach éå†ï¼Ÿ</p><p>è¿™ç§æƒ…å†µä¸‹ï¼Œæ˜¯å®Œå…¨å¯ä»¥ç”¨æ•°ç»„æ–¹æ³•è¿‡æ»¤çš„ï¼Œå› ä¸º React.Children.toArray å·²ç»å¤„ç†äº† children ï¼Œä½¿å®ƒå˜æˆäº†æ­£å¸¸çš„æ•°ç»„ç»“æ„ ä¹Ÿå°±æ˜¯è¯´ <code>React.Children.forEach</code> &#x3D;  <code>React.Children.toArray</code> + <code>Array.prototype.forEach</code>ã€‚</p><p>React.Children.forEach æœ¬èº«å°±å¯ä»¥æŠŠ children æ‰å¹³åŒ–äº†ï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°ç¬¬ä¸€æ­¥æ“ä½œå¤šæ­¤ä¸€ä¸¾äº†ã€‚ä¸ºä»€ä¹ˆè¦æœ‰ç¬¬ä¸€æ­¥ï¼Œä¸»è¦æ˜¯æ›´å¤šçš„å­¦ä¹ ä¸€ä¸‹ React apiã€‚</p><p><strong>ç¬¬ 3 æ­¥ï¼šç”¨ React.createElement ï¼Œæ’å…¥åˆ° children æœ€å</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/* ç¬¬ä¸‰æ­¥ï¼Œæ’å…¥æ–°çš„èŠ‚ç‚¹ */</span></span><br><span class="line"><span class="keyword">const</span> lastChildren = <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">`div`</span>,&#123; className :<span class="string">&#x27;last&#x27;</span> &#125; ,<span class="string">`say goodbye`</span>)</span><br><span class="line">newChildren.<span class="title function_">push</span>(lastChildren)</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç å®é™…ç­‰äºç”¨ <code>JSX</code> è¿™ä¹ˆå†™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">newChildren.<span class="title function_">push</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;last&quot;</span> &gt;</span>say goodbye<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>)</span><br></pre></td></tr></table></figure><p><strong>ç¬¬ 4 æ­¥: å·²ç»ä¿®æ”¹äº† childrenï¼Œç°åœ¨åšçš„æ˜¯ï¼Œé€šè¿‡ cloneElement åˆ›å»ºæ–°çš„å®¹å™¨å…ƒç´ ã€‚</strong></p><p>ä¸ºä»€ä¹ˆè¦ç”¨ React.cloneElement ï¼ŒcreateElement æŠŠä¸Šé¢å†™çš„ jsxï¼Œå˜æˆ element å¯¹è±¡;  è€Œ cloneElement çš„ä½œç”¨æ˜¯ä»¥ element å…ƒç´ ä¸ºæ ·æ¿å…‹éš†å¹¶è¿”å›æ–°çš„ React element å…ƒç´ ã€‚è¿”å›å…ƒç´ çš„ props æ˜¯å°†æ–°çš„ props ä¸åŸå§‹å…ƒç´ çš„ props æµ…å±‚åˆå¹¶åçš„ç»“æœã€‚</p><p>è¿™é‡Œ React.cloneElement åšçš„äº‹æƒ…å°±æ˜¯ï¼ŒæŠŠ reactElement å¤åˆ¶ä¸€ä»½ï¼Œå†ç”¨æ–°çš„ children å±æ€§ï¼Œä»è€Œè¾¾åˆ°æ”¹å˜ render ç»“æœçš„ç›®çš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç¬¬ 4 æ­¥ï¼šä¿®æ”¹å®¹å™¨èŠ‚ç‚¹ */</span></span><br><span class="line"><span class="keyword">const</span> newReactElement =  <span class="title class_">React</span>.<span class="title function_">cloneElement</span>(reactElement,&#123;&#125; ,...newChildren )</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœ</strong></p><p><img src="https://raw.githubusercontent.com/Flashcard8009/image/main/img/202309261541948.jpeg" alt="jsx6.jpg"></p><p>éªŒè¯ ï¼š</p><ul><li>â‘  children å·²ç»è¢«æ‰å¹³åŒ–ã€‚</li><li>â‘¡ æ–‡æœ¬èŠ‚ç‚¹ <code>my name is alien</code> å·²ç»è¢«åˆ é™¤ã€‚</li><li>â‘¢ <code>&lt;div className=&quot;last&quot; &gt; say goodbye&lt;/div&gt;</code> å…ƒç´ æˆåŠŸæ’å…¥ã€‚</li></ul><p><strong>è¾¾åˆ°äº†é¢„æœŸæ•ˆæœã€‚</strong></p><p><strong>ï½œâ€”â€”â€“é—®ä¸ç­”â€”â€”â€“ï½œ</strong><br/></p><p>é—®: React.createElement å’Œ React.cloneElement åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢? </p><p>ç­”: å¯ä»¥å®Œå…¨ç†è§£ä¸ºï¼Œä¸€ä¸ªæ˜¯ç”¨æ¥åˆ›å»º element ã€‚å¦ä¸€ä¸ªæ˜¯ç”¨æ¥ä¿®æ”¹ elementï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ React.element å¯¹è±¡ã€‚<br/></p><p><strong>ï½œâ€”â€”â€”endâ€”â€”â€”ï½œ</strong></p><h2 id="ä¸‰ã€Babel-è§£æ-JSX-æµç¨‹"><a href="#ä¸‰ã€Babel-è§£æ-JSX-æµç¨‹" class="headerlink" title="ä¸‰ã€Babel è§£æ JSX æµç¨‹"></a>ä¸‰ã€Babel è§£æ JSX æµç¨‹</h2><h3 id="1-babel-plugin-syntax-jsx-å’Œ-babel-plugin-transform-react-jsx"><a href="#1-babel-plugin-syntax-jsx-å’Œ-babel-plugin-transform-react-jsx" class="headerlink" title="1 @babel&#x2F;plugin-syntax-jsx å’Œ @babel&#x2F;plugin-transform-react-jsx"></a>1 @babel&#x2F;plugin-syntax-jsx å’Œ @babel&#x2F;plugin-transform-react-jsx</h3><p>JSX è¯­æ³•å®ç°æ¥æºäºè¿™ä¸¤ä¸ª babel æ’ä»¶ï¼š</p><ul><li>@babel&#x2F;plugin-syntax-jsx ï¼š ä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼Œèƒ½å¤Ÿè®© Babel æœ‰æ•ˆçš„è§£æ JSX è¯­æ³•ã€‚</li><li>@babel&#x2F;plugin-transform-react-jsx ï¼šè¿™ä¸ªæ’ä»¶å†…éƒ¨è°ƒç”¨äº† @babel&#x2F;plugin-syntax-jsxï¼Œå¯ä»¥æŠŠ React JSX è½¬åŒ–æˆ JS èƒ½å¤Ÿè¯†åˆ«çš„ createElement æ ¼å¼ã€‚</li></ul><p><strong>Automatic Runtime</strong></p><p>æ–°ç‰ˆæœ¬ React å·²ç»ä¸éœ€è¦å¼•å…¥ createElement ï¼Œè¿™ç§æ¨¡å¼æ¥æºäº <code> Automatic Runtime</code>ï¼Œçœ‹ä¸€ä¸‹æ˜¯å¦‚ä½•ç¼–è¯‘çš„ã€‚</p><p>ä¸šåŠ¡ä»£ç ä¸­å†™çš„ JSX æ–‡ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Index</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>hello,world<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>let us learn React<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¢«ç¼–è¯‘åçš„æ–‡ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; jsx <span class="keyword">as</span> _jsx &#125; <span class="keyword">from</span> <span class="string">&quot;react/jsx-runtime&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; jsxs <span class="keyword">as</span> _jsxs &#125; <span class="keyword">from</span> <span class="string">&quot;react/jsx-runtime&quot;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Index</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span>  <span class="title function_">_jsxs</span>(<span class="string">&quot;div&quot;</span>, &#123;</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                <span class="title function_">_jsx</span>(<span class="string">&quot;h1&quot;</span>, &#123;</span><br><span class="line">                   <span class="attr">children</span>: <span class="string">&quot;hello,world&quot;</span></span><br><span class="line">                &#125;),</span><br><span class="line">                <span class="title function_">_jsx</span>(<span class="string">&quot;span&quot;</span>, &#123;</span><br><span class="line">                    <span class="attr">children</span>:<span class="string">&quot;let us learn React&quot;</span> ,</span><br><span class="line">                &#125;),</span><br><span class="line">            ],</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>plugin-syntax-jsx å·²ç»å‘æ–‡ä»¶ä¸­æå‰æ³¨å…¥äº† _jsxRuntime apiã€‚ä¸è¿‡è¿™ç§æ¨¡å¼ä¸‹éœ€è¦æˆ‘ä»¬åœ¨ .babelrc è®¾ç½® runtime: automatic ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;presets&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>    </span><br><span class="line">    <span class="punctuation">[</span><span class="string">&quot;@babel/preset-react&quot;</span><span class="punctuation">,</span><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;runtime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;automatic&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">]</span>     </span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p><strong>Classic Runtime</strong></p><p>è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ç»å…¸æ¨¡å¼ï¼Œåœ¨ç»å…¸æ¨¡å¼ä¸‹ï¼Œä½¿ç”¨ JSX çš„æ–‡ä»¶éœ€è¦å¼•å…¥ React ï¼Œä¸ç„¶å°±ä¼šæŠ¥é”™ã€‚</p><p>ä¸šåŠ¡ä»£ç ä¸­å†™çš„ JSX æ–‡ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Index</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>hello,world<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>let us learn React<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¢«ç¼–è¯‘åçš„æ–‡ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Index</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span>  <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span><br><span class="line">        <span class="string">&quot;div&quot;</span>,</span><br><span class="line">        <span class="literal">null</span>,</span><br><span class="line">        <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;h1&quot;</span>, <span class="literal">null</span>,<span class="string">&quot;hello,world&quot;</span>),</span><br><span class="line">        <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;let us learn React&quot;</span>)</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-apiå±‚é¢æ¨¡æ‹Ÿå®ç°"><a href="#2-apiå±‚é¢æ¨¡æ‹Ÿå®ç°" class="headerlink" title="2 apiå±‚é¢æ¨¡æ‹Ÿå®ç°"></a>2 apiå±‚é¢æ¨¡æ‹Ÿå®ç°</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ api çš„æ–¹å¼æ¥æ¨¡æ‹Ÿä¸€ä¸‹ Babel å¤„ç† JSX çš„æµç¨‹ã€‚ </p><p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»º element.jsï¼Œå†™ä¸‹å°†æµ‹è¯•çš„ JSX ä»£ç ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">TestComponent</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span> hello,React <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Index</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ¨¡æ‹Ÿ babel å¤„ç† jsx æµç¨‹ã€‚<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">TestComponent</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Index</span></span><br></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥ï¼šå› ä¸º babel è¿è¡Œåœ¨ node ç¯å¢ƒï¼Œæ‰€ä»¥åŒçº§ç›®å½•ä¸‹åˆ›å»º jsx.js æ–‡ä»¶ã€‚æ¥æ¨¡æ‹Ÿä¸€ä¸‹ç¼–è¯‘çš„æ•ˆæœã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> babel = <span class="built_in">require</span>(<span class="string">&quot;@babel/core&quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">/* ç¬¬ä¸€æ­¥ï¼šæ¨¡æ‹Ÿè¯»å–æ–‡ä»¶å†…å®¹ã€‚ */</span></span><br><span class="line">fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./element.js&#x27;</span>,<span class="function">(<span class="params">e,data</span>)=&gt;</span>&#123; </span><br><span class="line">    <span class="keyword">const</span> code = data.<span class="title function_">toString</span>(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="comment">/* ç¬¬äºŒæ­¥ï¼šè½¬æ¢ jsx æ–‡ä»¶ */</span></span><br><span class="line">    <span class="keyword">const</span> result = babel.<span class="title function_">transformSync</span>(code, &#123;</span><br><span class="line">        <span class="attr">plugins</span>: [<span class="string">&quot;@babel/plugin-transform-react-jsx&quot;</span>],</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">/* ç¬¬ä¸‰æ­¥ï¼šæ¨¡æ‹Ÿé‡æ–°å†™å…¥å†…å®¹ã€‚ */</span></span><br><span class="line">    fs.<span class="title function_">writeFile</span>(<span class="string">&#x27;./element.js&#x27;</span>,result.<span class="property">code</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šç»è¿‡ä¸‰æ­¥å¤„ç†ä¹‹åï¼Œå†æ¥çœ‹ä¸€ä¸‹ element.js å˜æˆäº†ä»€ä¹ˆæ ·å­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">TestComponent</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="comment">/*#__PURE__*/</span><span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;p&quot;</span>, <span class="literal">null</span>, <span class="string">&quot; hello,React &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Index</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="comment">/*#__PURE__*/</span><span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>, <span class="literal">null</span>, <span class="comment">/*#__PURE__*/</span><span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;\u6A21\u62DF babel \u5904\u7406 jsx \u6D41\u7A0B\u3002&quot;</span>), <span class="comment">/*#__PURE__*/</span><span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="title class_">TestComponent</span>, <span class="literal">null</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Index</span>;</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šå¯ä»¥çœ‹åˆ°å·²ç»æˆåŠŸè½¬æˆ React.createElement å½¢å¼ï¼Œä»æ ¹æœ¬ä¸Šå¼„æ¸…æ¥šäº† Babel è§£æ JSX çš„å¤§è‡´æµç¨‹ã€‚</p><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>æœ¬ç« èŠ‚ä¸»è¦è®²åˆ°äº†ä¸¤æ–¹é¢çš„çŸ¥è¯†ã€‚</p><p>ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬å†™çš„ JSX ä¼šå…ˆè½¬æ¢æˆ React.elementï¼Œå†è½¬åŒ–æˆ React.fiber çš„è¿‡ç¨‹ã€‚è¿™é‡Œè¦ç‰¢ç‰¢è®°ä½ jsx è½¬åŒ–æˆ element çš„å¤„ç†é€»è¾‘ï¼Œè¿˜æœ‰å°±æ˜¯ element ç±»å‹ä¸è½¬åŒ–æˆ fiber çš„ tag ç±»å‹çš„å¯¹åº”å…³ç³»ã€‚è¿™å¯¹åç»­çš„å­¦ä¹ ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œé€šè¿‡å­¦ä¹ ç¬¬ä¸€ä¸ªå®è·µ demoï¼Œæˆ‘ä»¬æŒæ¡äº†å¦‚ä½•æ§åˆ¶ç»è¿‡ render ä¹‹åçš„ React element å¯¹è±¡ã€‚</p><p>åŒæ—¶ä¹Ÿææ¸…æ¥šäº† Babel è§£æ JSX çš„å¤§è‡´æµç¨‹ã€‚</p><p>ä¸‹ä¸€ç« èŠ‚ï¼Œæˆ‘ä»¬å°†ä»Reactç»„ä»¶è§’åº¦å‡ºå‘ï¼Œå…¨æ–¹é¢è®¤è¯†Reactç»„ä»¶ã€‚</p><h3 id="æ¡ˆä¾‹ä»£ç çš„githubåœ°å€-ç‚¹å‡»å³å¯è·³è½¬"><a href="#æ¡ˆä¾‹ä»£ç çš„githubåœ°å€-ç‚¹å‡»å³å¯è·³è½¬" class="headerlink" title="æ¡ˆä¾‹ä»£ç çš„githubåœ°å€(ç‚¹å‡»å³å¯è·³è½¬)"></a><a href="https://github.com/GoodLuckAlien/React-Advanced-Guide-Pro"><code>æ¡ˆä¾‹ä»£ç çš„githubåœ°å€</code></a>(ç‚¹å‡»å³å¯è·³è½¬)</h3>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/book/2023/hello-world/"/>
      <url>/book/2023/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
